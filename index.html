<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Rudved's Minecraft Birthday Quest</title>
<style>
body { margin:0; overflow:hidden; background:#87CEEB; font-family:monospace; }
canvas { display:block; }
#inviteScreen {
  position:absolute;
  width:100%; height:100%;
  background:rgba(0,0,0,0.95);
  color:white;
  display:none;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  text-align:center;
  padding:20px;
}
#inviteScreen h1 { font-size:42px; color:#00FFAA; }
#inviteScreen p { font-size:22px; }
.button {
  margin-top:20px;
  padding:15px 30px;
  font-size:20px;
  background:#00AAFF;
  border:none;
  color:white;
  cursor:pointer;
}
.controls {
  position:absolute;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:10px;
}
.control-btn {
  width:60px; height:60px;
  background:#333;
  color:white;
  font-size:30px;
  display:flex;
  justify-content:center;
  align-items:center;
  border-radius:10px;
}
</style>
</head>
<body>

<canvas id="game"></canvas>
<canvas id="confetti"></canvas>

<div id="inviteScreen">
  <h1>üéâ YOU UNLOCKED THE PORTAL! üéâ</h1>
  <h2>You're Invited to</h2>
  <h1>Rudved's 8th Birthday!</h1>
  <p>
  üóì Saturday, 7th March<br>
  ‚è∞ 11:00 AM<br>
  üéÆ Minecraft Fun Party
  </p>
  <button class="button" onclick="location.reload()">Play Again</button>
</div>

<div class="controls">
  <div class="control-btn" onclick="move('left')">‚¨Ö</div>
  <div class="control-btn" onclick="move('up')">‚¨Ü</div>
  <div class="control-btn" onclick="move('down')">‚¨á</div>
  <div class="control-btn" onclick="move('right')">‚û°</div>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const confettiCanvas = document.getElementById("confetti");
const confettiCtx = confettiCanvas.getContext("2d");

canvas.width = confettiCanvas.width = window.innerWidth;
canvas.height = confettiCanvas.height = window.innerHeight;

let player = { x:100, y:100, size:40 };
let blocks = [];
let portal = { x: canvas.width-120, y: canvas.height-120, size:60 };
let totalBlocks = 5;

for(let i=0;i<totalBlocks;i++){
  blocks.push({
    x: Math.random()*(canvas.width-100),
    y: Math.random()*(canvas.height-200),
    size:40
  });
}

let keys = {};
let gameWon = false;
let confettiPieces = [];

document.addEventListener("keydown", e => keys[e.key]=true);
document.addEventListener("keyup", e => keys[e.key]=false);

function move(dir){
  if(dir==="up") player.y-=40;
  if(dir==="down") player.y+=40;
  if(dir==="left") player.x-=40;
  if(dir==="right") player.x+=40;
}

function startConfetti(){
  for(let i=0;i<200;i++){
    confettiPieces.push({
      x: Math.random()*canvas.width,
      y: Math.random()*canvas.height - canvas.height,
      size: Math.random()*8+4,
      speed: Math.random()*3+2,
      color: `hsl(${Math.random()*360},100%,50%)`
    });
  }
}

function updateConfetti(){
  confettiCtx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
  confettiPieces.forEach(p=>{
    p.y += p.speed;
    if(p.y > canvas.height) p.y = -10;
    confettiCtx.fillStyle = p.color;
    confettiCtx.fillRect(p.x,p.y,p.size,p.size);
  });
  if(gameWon) requestAnimationFrame(updateConfetti);
}

function update(){
  if(gameWon) return;

  if(keys["ArrowUp"]) move("up");
  if(keys["ArrowDown"]) move("down");
  if(keys["ArrowLeft"]) move("left");
  if(keys["ArrowRight"]) move("right");

  blocks = blocks.filter(b=>{
    return !(Math.abs(player.x-b.x)<40 && Math.abs(player.y-b.y)<40);
  });

  if(blocks.length===0){
    if(Math.abs(player.x-portal.x)<50 && Math.abs(player.y-portal.y)<50){
      gameWon = true;
      document.getElementById("inviteScreen").style.display="flex";
      startConfetti();
      updateConfetti();
    }
  }
}

function drawBlock(x,y,size,color){
  ctx.fillStyle=color;
  ctx.fillRect(x,y,size,size);
  ctx.strokeStyle="#000";
  ctx.strokeRect(x,y,size,size);
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  for(let x=0;x<canvas.width;x+=40){
    for(let y=canvas.height-200;y<canvas.height;y+=40){
      drawBlock(x,y,40,"#3CB043");
    }
  }

  drawBlock(player.x,player.y,player.size,"#8B4513");

  blocks.forEach(b=>{
    drawBlock(b.x,b.y,b.size,"#FF69B4");
  });

  if(blocks.length===0){
    drawBlock(portal.x,portal.y,portal.size,"#00FFFF");
  }

  ctx.fillStyle="black";
  ctx.font="20px monospace";
  ctx.fillText("Collect all Birthday Blocks!",20,30);
  ctx.fillText("Blocks Left: "+blocks.length,20,60);

  if(blocks.length===0){
    ctx.fillText("Go to the Diamond Portal!",20,90);
  }
}

function gameLoop(){
  update();
  draw();
  requestAnimationFrame(gameLoop);
}

gameLoop();
</script>

</body>
</html>