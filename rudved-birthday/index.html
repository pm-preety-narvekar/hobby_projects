<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Rudved's Minecraft Birthday Quest</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
html,body{
  margin:0;
  padding:0;
  overflow:hidden;
  background:#87CEEB;
  font-family:'Press Start 2P', cursive;
  touch-action:none;
}

#gameTitle{
  position:fixed;
  top:0;
  width:100%;
  background:#000;
  color:#00ffcc;
  text-align:center;
  padding:12px;
  font-size:12px;
  z-index:60;
}

#instructions{
  position:fixed;
  top:44px;
  width:100%;
  background:rgba(0,0,0,0.85);
  color:white;
  text-align:center;
  padding:8px;
  font-size:10px;
  z-index:50;
}

#inviteScreen{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.95);
  color:white;
  display:none;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  text-align:center;
  z-index:100;
}
</style>
</head>
<body>

<div id="gameTitle">üéÆ RUDVED'S MINECRAFT BIRTHDAY QUEST üéÆ</div>
<div id="instructions">
üéÇ Tap All Cakes To Unlock Invitation!
</div>

<div id="inviteScreen">
<h2>üéâ YOU'RE INVITED üéâ</h2>
<h1>Rudved's 8th Birthday!</h1>
<p>
üóì Saturday, 7th March<br><br>
‚è∞ 11:00 AM<br><br>
üéÆ Minecraft Fun Party
</p>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128/examples/js/controls/OrbitControls.js"></script>

<script>

/* SCENE */

let scene=new THREE.Scene();
scene.background=new THREE.Color(0x87CEEB);

let renderer=new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth,window.innerHeight);
renderer.shadowMap.enabled=true;
document.body.appendChild(renderer.domElement);

let camera=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,0.1,1000);
camera.position.set(0,45,90);

/* CONTROLS */

let controls=new THREE.OrbitControls(camera,renderer.domElement);
controls.enableDamping=true;
controls.dampingFactor=0.08;
controls.minDistance=40;
controls.maxDistance=180;
controls.maxPolarAngle=Math.PI/2.1;

/* RESIZE */

window.addEventListener("resize",()=>{
camera.aspect=window.innerWidth/window.innerHeight;
camera.updateProjectionMatrix();
renderer.setSize(window.innerWidth,window.innerHeight);
});

/* LIGHT */

scene.add(new THREE.AmbientLight(0xffffff,0.6));
let sun=new THREE.DirectionalLight(0xffffff,1);
sun.position.set(60,100,50);
sun.castShadow=true;
scene.add(sun);

/* MINECRAFT TEXTURED GRASS */

let canvas=document.createElement("canvas");
canvas.width=64;
canvas.height=64;
let ctx=canvas.getContext("2d");

for(let y=0;y<8;y++){
for(let x=0;x<8;x++){
ctx.fillStyle=(Math.random()>0.5)?"#2ecc40":"#1e8c2f";
ctx.fillRect(x*8,y*8,8,8);
}
}

let grassTexture=new THREE.CanvasTexture(canvas);
grassTexture.wrapS=THREE.RepeatWrapping;
grassTexture.wrapT=THREE.RepeatWrapping;
grassTexture.repeat.set(30,30);
grassTexture.magFilter=THREE.NearestFilter;

let ground=new THREE.Mesh(
new THREE.BoxGeometry(140,8,140),
[
new THREE.MeshLambertMaterial({color:"#5a3d1e"}),
new THREE.MeshLambertMaterial({color:"#5a3d1e"}),
new THREE.MeshLambertMaterial({map:grassTexture}),
new THREE.MeshLambertMaterial({color:"#5a3d1e"}),
new THREE.MeshLambertMaterial({color:"#5a3d1e"}),
new THREE.MeshLambertMaterial({color:"#5a3d1e"})
]
);
ground.position.y=-4;
ground.receiveShadow=true;
scene.add(ground);

/* CAKES */

let cakes=[];
let raycaster=new THREE.Raycaster();
let mouse=new THREE.Vector2();

function createCake(x,z){
let group=new THREE.Group();

let base=new THREE.Mesh(
new THREE.BoxGeometry(4,2,4),
new THREE.MeshLambertMaterial({color:"#c68642"})
);
base.position.y=1;
group.add(base);

let icing=new THREE.Mesh(
new THREE.BoxGeometry(4.2,1,4.2),
new THREE.MeshLambertMaterial({color:"#ffffff"})
);
icing.position.y=2.5;
group.add(icing);

for(let i=0;i<5;i++){
let cherry=new THREE.Mesh(
new THREE.BoxGeometry(0.6,0.6,0.6),
new THREE.MeshLambertMaterial({color:"#cc0000"})
);
cherry.position.set((Math.random()-0.5)*2.5,3,(Math.random()-0.5)*2.5);
group.add(cherry);
}

group.position.set(x,0,z);
scene.add(group);
cakes.push(group);
}

for(let i=0;i<5;i++){
createCake((Math.random()-0.5)*80,(Math.random()-0.5)*80);
}

/* PARTICLES */

let particles=[];

function burst(x,y,z,color){
for(let i=0;i<30;i++){
let cube=new THREE.Mesh(
new THREE.BoxGeometry(0.5,0.5,0.5),
new THREE.MeshBasicMaterial({color:color})
);
cube.position.set(x,y,z);
cube.userData.velocity=new THREE.Vector3(
(Math.random()-0.5)*0.8,
Math.random()*1,
(Math.random()-0.5)*0.8
);
scene.add(cube);
particles.push(cube);
}
}

/* TAP */

function onTap(e){

let rect=renderer.domElement.getBoundingClientRect();
let x=((e.touches?e.touches[0].clientX:e.clientX)-rect.left)/rect.width;
let y=((e.touches?e.touches[0].clientY:e.clientY)-rect.top)/rect.height;

mouse.x=x*2-1;
mouse.y=-(y*2-1);

raycaster.setFromCamera(mouse,camera);
let intersects=raycaster.intersectObjects(scene.children,true);

if(intersects.length>0){
let obj=intersects[0].object;

while(obj.parent && !cakes.includes(obj)){
obj=obj.parent;
}

if(cakes.includes(obj)){
burst(obj.position.x,5,obj.position.z,0xffff00);
scene.remove(obj);
cakes=cakes.filter(c=>c!==obj);

if(cakes.length===0){
setTimeout(()=>{
burst(0,20,0,0xff0000);
burst(0,20,0,0x00ff00);
burst(0,20,0,0x0000ff);
setTimeout(()=>{
document.getElementById("inviteScreen").style.display="flex";
},1500);
},500);
}
}
}
}

window.addEventListener("click",onTap);
window.addEventListener("touchstart",onTap);

/* ANIMATE */

function animate(){
requestAnimationFrame(animate);

particles.forEach((p,i)=>{
p.position.add(p.userData.velocity);
p.userData.velocity.y-=0.03;
if(p.position.y<0){
scene.remove(p);
particles.splice(i,1);
}
});

controls.update();
renderer.render(scene,camera);
}
animate();

</script>
</body>
</html>